import photoFlaconePolvere from "@/assets/photo-flacone-polvere.jpg";
import photoDiluente from "@/assets/photo-diluente-new.jpg";
import photoSaccaIV from "@/assets/photo-sacca-iv.jpg";
import photoSiringa from "@/assets/photo-siringa.jpg";
import photoPreparazioneFinale from "@/assets/photo-preparazione-finale.jpg";

export type Status = "completata" | "esecuzione" | "errore" | "attesa" | "validata" | "rifiutata";
export type Priority = "alta" | "media" | "bassa";

export type PrepType = "infusione_iv" | "siringa_ricostituita";

export interface ComponentPhoto {
  type: "farmaco" | "diluente" | "contenitore" | "preparazione";
  label: string;
  url: string;
  barcode?: string;
}

export interface SupplementaryDose {
  time: string;
  amount: number;
  unit: string;
  reason: string;
}

export interface LabelData {
  patientName: string;
  patientId: string;
  drug: string;
  dosage: string;
  route: string;
  volume: string;
  preparedBy: string;
  preparedAt: string;
  expiresAt: string;
  lotNumber: string;
  notes: string;
}

export interface Preparation {
  id: string;
  status: Status;
  priority: Priority;
  prepType: PrepType;
  drug: string;
  form: string;
  container: string;
  dispensed: number;
  target: number;
  errorRate: number;
  executor: string | null;
  executorInitials: string | null;
  station: string | null;
  date: string; // YYYY-MM-DD
  requestedAt: string;
  startedAt: string | null;
  finishedAt: string | null;
  photos: ComponentPhoto[];
  supplementaryDoses: SupplementaryDose[];
  labelData: LabelData;
}

// Photo helpers for consistent usage
export const photoAssets = {
  flaconePolvere: photoFlaconePolvere,
  diluente: photoDiluente,
  saccaIV: photoSaccaIV,
  siringa: photoSiringa,
  preparazioneFinale: photoPreparazioneFinale,
};

function ivPhotos(drug: string, diluent: string, barcode: string): ComponentPhoto[] {
  return [
    { type: "farmaco", label: `${drug} - Flacone polvere liofilizzata`, url: photoFlaconePolvere, barcode },
    { type: "diluente", label: diluent, url: photoDiluente, barcode: `80${barcode.slice(2)}` },
    { type: "contenitore", label: "Sacca IV per infusione", url: photoSaccaIV },
    { type: "preparazione", label: "Preparazione finale - Sacca IV pronta", url: photoPreparazioneFinale },
  ];
}

function syringePhotos(drug: string, diluent: string, barcode: string): ComponentPhoto[] {
  return [
    { type: "farmaco", label: `${drug} - Flacone polvere liofilizzata`, url: photoFlaconePolvere, barcode },
    { type: "diluente", label: diluent, url: photoDiluente, barcode: `80${barcode.slice(2)}` },
    { type: "contenitore", label: "Siringa sterile per preparazione", url: photoSiringa },
    { type: "preparazione", label: "Preparazione finale - Siringa pronta", url: photoPreparazioneFinale },
  ];
}

const todayStr = () => {
  const d = new Date();
  return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, "0")}-${String(d.getDate()).padStart(2, "0")}`;
};

export const preparations: Preparation[] = [
  {
    id: "RX-2847",
    status: "completata",
    priority: "alta",
    prepType: "infusione_iv",
    drug: "Ceftriaxone 2g",
    form: "Polvere per soluzione per infusione",
    container: "Sacca NaCl 0.9% 100ml",
    dispensed: 100.2,
    target: 100.0,
    errorRate: 0.2,
    executor: "L. Bianchi",
    executorInitials: "LB",
    station: "Cappa 1",
    date: todayStr(),
    requestedAt: "08:30",
    startedAt: "08:45",
    finishedAt: "09:12",
    photos: ivPhotos("Ceftriaxone 2g", "Soluzione Fisiologica NaCl 0.9% 100ml", "8012345678901"),
    supplementaryDoses: [
      { time: "08:55", amount: 0.5, unit: "ml", reason: "Compensazione volume residuo nel flacone" },
    ],
    labelData: {
      patientName: "Mario Rossi",
      patientId: "PAZ-20240315-001",
      drug: "Ceftriaxone 2g in NaCl 0.9%",
      dosage: "2 g",
      route: "Endovenosa",
      volume: "100 ml",
      preparedBy: "L. Bianchi",
      preparedAt: "23/02/2026 09:12",
      expiresAt: "24/02/2026 09:12",
      lotNumber: "LOT-2026-02-2847",
      notes: "Infondere in 30 minuti. Conservare a 2-8°C se non somministrata entro 6h.",
    },
  },
  {
    id: "RX-2846",
    status: "esecuzione",
    priority: "media",
    prepType: "siringa_ricostituita",
    drug: "Vancomicina 1g",
    form: "Polvere per soluzione iniettabile",
    container: "Siringa 50ml",
    dispensed: 38.5,
    target: 50.0,
    errorRate: 0,
    executor: "M. Verdi",
    executorInitials: "MV",
    station: "Cappa 2",
    date: todayStr(),
    requestedAt: "09:15",
    startedAt: "09:30",
    finishedAt: null,
    photos: syringePhotos("Vancomicina 1g", "Acqua per preparazioni iniettabili 20ml", "8011122233344").slice(0, 2),
    supplementaryDoses: [],
    labelData: {
      patientName: "Anna Verdi",
      patientId: "PAZ-20240315-002",
      drug: "Vancomicina 1g ricostituita in Acqua PPI",
      dosage: "1 g",
      route: "Endovenosa lenta",
      volume: "50 ml",
      preparedBy: "M. Verdi",
      preparedAt: "In corso",
      expiresAt: "—",
      lotNumber: "LOT-2026-02-2846",
      notes: "Infondere in almeno 60 minuti. Monitorare per Red Man Syndrome.",
    },
  },
  {
    id: "RX-2845",
    status: "errore",
    priority: "alta",
    prepType: "infusione_iv",
    drug: "Meropenem 1g",
    form: "Polvere per soluzione per infusione",
    container: "Sacca NaCl 0.9% 50ml",
    dispensed: 53.8,
    target: 50.0,
    errorRate: 7.6,
    executor: "G. Neri",
    executorInitials: "GN",
    station: "Cappa 3",
    date: todayStr(),
    requestedAt: "08:00",
    startedAt: "08:20",
    finishedAt: "08:45",
    photos: ivPhotos("Meropenem 1g", "Soluzione Fisiologica NaCl 0.9% 50ml", "8055566677788"),
    supplementaryDoses: [
      { time: "08:30", amount: 2.0, unit: "ml", reason: "Errore: volume eccessivo ricostituito - superamento soglia" },
      { time: "08:38", amount: 1.8, unit: "ml", reason: "Tentativo correzione dosaggio - non riuscito" },
    ],
    labelData: {
      patientName: "Luigi Bianchi",
      patientId: "PAZ-20240315-003",
      drug: "Meropenem 1g in NaCl 0.9%",
      dosage: "1 g",
      route: "Endovenosa",
      volume: "50 ml",
      preparedBy: "G. Neri",
      preparedAt: "23/02/2026 08:45",
      expiresAt: "23/02/2026 14:45",
      lotNumber: "LOT-2026-02-2845",
      notes: "ATTENZIONE: Errore volume rilevato. Preparazione da rifare.",
    },
  },
  {
    id: "RX-2844",
    status: "attesa",
    priority: "bassa",
    prepType: "siringa_ricostituita",
    drug: "Pantoprazolo 40mg",
    form: "Polvere per soluzione iniettabile",
    container: "Siringa 10ml",
    dispensed: 0,
    target: 10.0,
    errorRate: 0,
    executor: null,
    executorInitials: null,
    station: null,
    date: todayStr(),
    requestedAt: "10:00",
    startedAt: null,
    finishedAt: null,
    photos: [],
    supplementaryDoses: [],
    labelData: {
      patientName: "Francesca Neri",
      patientId: "PAZ-20240315-004",
      drug: "Pantoprazolo 40mg ricostituito in NaCl 0.9%",
      dosage: "40 mg",
      route: "Endovenosa",
      volume: "10 ml",
      preparedBy: "—",
      preparedAt: "In attesa",
      expiresAt: "—",
      lotNumber: "LOT-2026-02-2844",
      notes: "Ricostituire con 10ml NaCl 0.9%. Somministrare in bolo lento (2-15 min).",
    },
  },
  {
    id: "RX-2843",
    status: "completata",
    priority: "media",
    prepType: "infusione_iv",
    drug: "Piperacillina/Tazobactam 4.5g",
    form: "Polvere per soluzione per infusione",
    container: "Sacca NaCl 0.9% 100ml",
    dispensed: 100.0,
    target: 100.0,
    errorRate: 0.0,
    executor: "L. Bianchi",
    executorInitials: "LB",
    station: "Cappa 1",
    date: todayStr(),
    requestedAt: "07:45",
    startedAt: "08:00",
    finishedAt: "08:28",
    photos: ivPhotos("Piperacillina/Tazobactam 4.5g", "Soluzione Fisiologica NaCl 0.9% 100ml", "8033344455566"),
    supplementaryDoses: [],
    labelData: {
      patientName: "Giuseppe Esposito",
      patientId: "PAZ-20240315-005",
      drug: "Piperacillina/Tazobactam 4.5g in NaCl 0.9%",
      dosage: "4.5 g",
      route: "Endovenosa",
      volume: "100 ml",
      preparedBy: "L. Bianchi",
      preparedAt: "23/02/2026 08:28",
      expiresAt: "24/02/2026 08:28",
      lotNumber: "LOT-2026-02-2843",
      notes: "Infondere in 30 minuti. Stabilità 24h a temperatura ambiente.",
    },
  },
  {
    id: "RX-2842",
    status: "completata",
    priority: "alta",
    prepType: "siringa_ricostituita",
    drug: "Ampicillina 1g",
    form: "Polvere per soluzione iniettabile",
    container: "Siringa 20ml",
    dispensed: 20.1,
    target: 20.0,
    errorRate: 0.5,
    executor: "S. Ferrari",
    executorInitials: "SF",
    station: "Cappa 2",
    date: todayStr(),
    requestedAt: "07:30",
    startedAt: "07:40",
    finishedAt: "07:55",
    photos: syringePhotos("Ampicillina 1g", "Acqua per preparazioni iniettabili 20ml", "8044455566677"),
    supplementaryDoses: [],
    labelData: {
      patientName: "Clara Moretti",
      patientId: "PAZ-20240315-006",
      drug: "Ampicillina 1g ricostituita in Acqua PPI",
      dosage: "1 g",
      route: "Endovenosa",
      volume: "20 ml",
      preparedBy: "S. Ferrari",
      preparedAt: "23/02/2026 07:55",
      expiresAt: "23/02/2026 13:55",
      lotNumber: "LOT-2026-02-2842",
      notes: "Somministrare in bolo lento (3-5 min). Utilizzare entro 6h.",
    },
  },
  {
    id: "RX-2841",
    status: "esecuzione",
    priority: "alta",
    prepType: "infusione_iv",
    drug: "Amoxicillina/Ac. Clavulanico 2.2g",
    form: "Polvere per soluzione per infusione",
    container: "Sacca NaCl 0.9% 100ml",
    dispensed: 65.0,
    target: 100.0,
    errorRate: 0,
    executor: "G. Neri",
    executorInitials: "GN",
    station: "Cappa 3",
    date: todayStr(),
    requestedAt: "09:00",
    startedAt: "09:15",
    finishedAt: null,
    photos: ivPhotos("Amoxicillina/Ac. Clavulanico 2.2g", "Soluzione Fisiologica NaCl 0.9% 100ml", "8066677788899").slice(0, 2),
    supplementaryDoses: [],
    labelData: {
      patientName: "Roberto Colombo",
      patientId: "PAZ-20240315-007",
      drug: "Amoxicillina/Ac. Clavulanico 2.2g in NaCl 0.9%",
      dosage: "2.2 g",
      route: "Endovenosa",
      volume: "100 ml",
      preparedBy: "G. Neri",
      preparedAt: "In corso",
      expiresAt: "—",
      lotNumber: "LOT-2026-02-2841",
      notes: "Infondere in 30 minuti. Utilizzare immediatamente dopo ricostituzione.",
    },
  },
  {
    id: "RX-2840",
    status: "attesa",
    priority: "media",
    prepType: "infusione_iv",
    drug: "Ciprofloxacina 400mg",
    form: "Soluzione per infusione",
    container: "Sacca Glucosio 5% 200ml",
    dispensed: 0,
    target: 200.0,
    errorRate: 0,
    executor: null,
    executorInitials: null,
    station: null,
    date: todayStr(),
    requestedAt: "10:30",
    startedAt: null,
    finishedAt: null,
    photos: [],
    supplementaryDoses: [],
    labelData: {
      patientName: "Elena Ricci",
      patientId: "PAZ-20240315-008",
      drug: "Ciprofloxacina 400mg in Glucosio 5%",
      dosage: "400 mg",
      route: "Endovenosa",
      volume: "200 ml",
      preparedBy: "—",
      preparedAt: "In attesa",
      expiresAt: "—",
      lotNumber: "LOT-2026-02-2840",
      notes: "Infondere in 60 minuti. Proteggere dalla luce.",
    },
  },
  {
    id: "RX-2839",
    status: "completata",
    priority: "bassa",
    prepType: "siringa_ricostituita",
    drug: "Desametasone 8mg",
    form: "Soluzione iniettabile",
    container: "Siringa 5ml",
    dispensed: 5.0,
    target: 5.0,
    errorRate: 0.0,
    executor: "M. Verdi",
    executorInitials: "MV",
    station: "Cappa 2",
    date: todayStr(),
    requestedAt: "08:15",
    startedAt: "08:20",
    finishedAt: "08:30",
    photos: syringePhotos("Desametasone 8mg", "NaCl 0.9% 3ml", "8077788899900"),
    supplementaryDoses: [],
    labelData: {
      patientName: "Marco Fontana",
      patientId: "PAZ-20240315-009",
      drug: "Desametasone 8mg diluito in NaCl 0.9%",
      dosage: "8 mg",
      route: "Endovenosa",
      volume: "5 ml",
      preparedBy: "M. Verdi",
      preparedAt: "23/02/2026 08:30",
      expiresAt: "23/02/2026 20:30",
      lotNumber: "LOT-2026-02-2839",
      notes: "Somministrare in bolo lento. Stabile 12h a temperatura ambiente.",
    },
  },
  {
    id: "RX-2838",
    status: "errore",
    priority: "media",
    prepType: "infusione_iv",
    drug: "Teicoplanina 400mg",
    form: "Polvere per soluzione per infusione",
    container: "Sacca NaCl 0.9% 100ml",
    dispensed: 105.5,
    target: 100.0,
    errorRate: 5.5,
    executor: "S. Ferrari",
    executorInitials: "SF",
    station: "Cappa 1",
    date: todayStr(),
    requestedAt: "08:45",
    startedAt: "09:00",
    finishedAt: "09:25",
    photos: ivPhotos("Teicoplanina 400mg", "Acqua per preparazioni iniettabili 3ml + NaCl 0.9% 100ml", "8088899900011"),
    supplementaryDoses: [
      { time: "09:10", amount: 3.0, unit: "ml", reason: "Volume ricostituzione eccessivo - contaminazione" },
    ],
    labelData: {
      patientName: "Silvia Greco",
      patientId: "PAZ-20240315-010",
      drug: "Teicoplanina 400mg in NaCl 0.9%",
      dosage: "400 mg",
      route: "Endovenosa",
      volume: "100 ml",
      preparedBy: "S. Ferrari",
      preparedAt: "23/02/2026 09:25",
      expiresAt: "23/02/2026 15:25",
      lotNumber: "LOT-2026-02-2838",
      notes: "ATTENZIONE: Volume non conforme. Ripreparare.",
    },
  },

  // ── 27 febbraio 2026 ─────────────────────────────────────────────────────
  {
    id: "RX-2837",
    status: "validata",
    priority: "alta",
    prepType: "infusione_iv",
    drug: "Meropenem 2g",
    form: "Polvere per soluzione per infusione",
    container: "Sacca NaCl 0.9% 100ml",
    dispensed: 100.0,
    target: 100.0,
    errorRate: 0.0,
    executor: "L. Bianchi",
    executorInitials: "LB",
    station: "Cappa 1",
    date: "2026-02-27",
    requestedAt: "07:30",
    startedAt: "07:45",
    finishedAt: "08:10",
    photos: ivPhotos("Meropenem 2g", "Soluzione Fisiologica NaCl 0.9% 100ml", "8091234567890"),
    supplementaryDoses: [],
    labelData: {
      patientName: "Mario Rossi",
      patientId: "PAZ-20240315-001",
      drug: "Meropenem 2g in NaCl 0.9%",
      dosage: "2 g",
      route: "Endovenosa",
      volume: "100 ml",
      preparedBy: "L. Bianchi",
      preparedAt: "27/02/2026 08:10",
      expiresAt: "27/02/2026 14:10",
      lotNumber: "LOT-2026-02-2837",
      notes: "Infondere in 30 minuti. Stabile 6h a temperatura ambiente.",
    },
  },
  {
    id: "RX-2836",
    status: "rifiutata",
    priority: "alta",
    prepType: "siringa_ricostituita",
    drug: "Morfina Solfato 10mg",
    form: "Soluzione iniettabile",
    container: "Siringa 10ml",
    dispensed: 12.5,
    target: 10.0,
    errorRate: 8.2,
    executor: "G. Neri",
    executorInitials: "GN",
    station: "Cappa 3",
    date: "2026-02-27",
    requestedAt: "08:00",
    startedAt: "08:10",
    finishedAt: "08:22",
    photos: syringePhotos("Morfina Solfato 10mg", "NaCl 0.9% 9ml", "8092345678901"),
    supplementaryDoses: [
      { time: "08:18", amount: 2.5, unit: "ml", reason: "Sovradosaggio rilevato durante verifica" },
    ],
    labelData: {
      patientName: "Anna Verdi",
      patientId: "PAZ-20240315-002",
      drug: "Morfina Solfato 10mg in NaCl 0.9%",
      dosage: "10 mg",
      route: "Sottocutanea",
      volume: "10 ml",
      preparedBy: "G. Neri",
      preparedAt: "27/02/2026 08:22",
      expiresAt: "27/02/2026 20:22",
      lotNumber: "LOT-2026-02-2836",
      notes: "RIFIUTATA: Sovradosaggio. Ripreparare con verifica doppia.",
    },
  },
  {
    id: "RX-2835",
    status: "validata",
    priority: "media",
    prepType: "infusione_iv",
    drug: "Fluconazolo 200mg",
    form: "Soluzione per infusione",
    container: "Sacca Glucosio 5% 100ml",
    dispensed: 100.0,
    target: 100.0,
    errorRate: 0.0,
    executor: "M. Verdi",
    executorInitials: "MV",
    station: "Cappa 2",
    date: "2026-02-27",
    requestedAt: "09:00",
    startedAt: "09:10",
    finishedAt: "09:30",
    photos: ivPhotos("Fluconazolo 200mg", "Glucosio 5% 100ml", "8093456789012"),
    supplementaryDoses: [],
    labelData: {
      patientName: "Luigi Bianchi",
      patientId: "PAZ-20240315-003",
      drug: "Fluconazolo 200mg in Glucosio 5%",
      dosage: "200 mg",
      route: "Endovenosa",
      volume: "100 ml",
      preparedBy: "M. Verdi",
      preparedAt: "27/02/2026 09:30",
      expiresAt: "28/02/2026 09:30",
      lotNumber: "LOT-2026-02-2835",
      notes: "Infondere in 60 minuti. Proteggere dalla luce.",
    },
  },
  {
    id: "RX-2834",
    status: "validata",
    priority: "bassa",
    prepType: "siringa_ricostituita",
    drug: "Furosemide 40mg",
    form: "Soluzione iniettabile",
    container: "Siringa 4ml",
    dispensed: 4.0,
    target: 4.0,
    errorRate: 0.0,
    executor: "S. Ferrari",
    executorInitials: "SF",
    station: "Cappa 1",
    date: "2026-02-27",
    requestedAt: "10:15",
    startedAt: "10:20",
    finishedAt: "10:30",
    photos: syringePhotos("Furosemide 40mg", "NaCl 0.9% 2ml", "8094567890123"),
    supplementaryDoses: [],
    labelData: {
      patientName: "Francesca Neri",
      patientId: "PAZ-20240315-004",
      drug: "Furosemide 40mg",
      dosage: "40 mg",
      route: "Endovenosa",
      volume: "4 ml",
      preparedBy: "S. Ferrari",
      preparedAt: "27/02/2026 10:30",
      expiresAt: "27/02/2026 22:30",
      lotNumber: "LOT-2026-02-2834",
      notes: "Somministrare in bolo lento (1-2 min).",
    },
  },

  // ── 26 febbraio 2026 ─────────────────────────────────────────────────────
  {
    id: "RX-2833",
    status: "validata",
    priority: "alta",
    prepType: "infusione_iv",
    drug: "Vancomicina 1g",
    form: "Polvere per soluzione iniettabile",
    container: "Sacca NaCl 0.9% 250ml",
    dispensed: 250.0,
    target: 250.0,
    errorRate: 0.0,
    executor: "L. Bianchi",
    executorInitials: "LB",
    station: "Cappa 1",
    date: "2026-02-26",
    requestedAt: "07:00",
    startedAt: "07:15",
    finishedAt: "07:45",
    photos: ivPhotos("Vancomicina 1g", "Soluzione Fisiologica NaCl 0.9% 250ml", "8095678901234"),
    supplementaryDoses: [],
    labelData: {
      patientName: "Giuseppe Esposito",
      patientId: "PAZ-20240315-005",
      drug: "Vancomicina 1g in NaCl 0.9%",
      dosage: "1 g",
      route: "Endovenosa lenta",
      volume: "250 ml",
      preparedBy: "L. Bianchi",
      preparedAt: "26/02/2026 07:45",
      expiresAt: "26/02/2026 19:45",
      lotNumber: "LOT-2026-02-2833",
      notes: "Infondere in almeno 60 minuti. Monitorare per Red Man Syndrome.",
    },
  },
  {
    id: "RX-2832",
    status: "rifiutata",
    priority: "media",
    prepType: "infusione_iv",
    drug: "Ciprofloxacina 400mg",
    form: "Soluzione per infusione",
    container: "Sacca Glucosio 5% 200ml",
    dispensed: 198.0,
    target: 200.0,
    errorRate: 1.8,
    executor: "G. Neri",
    executorInitials: "GN",
    station: "Cappa 3",
    date: "2026-02-26",
    requestedAt: "08:30",
    startedAt: "08:45",
    finishedAt: "09:05",
    photos: ivPhotos("Ciprofloxacina 400mg", "Glucosio 5% 200ml", "8096789012345"),
    supplementaryDoses: [],
    labelData: {
      patientName: "Clara Moretti",
      patientId: "PAZ-20240315-006",
      drug: "Ciprofloxacina 400mg in Glucosio 5%",
      dosage: "400 mg",
      route: "Endovenosa",
      volume: "200 ml",
      preparedBy: "G. Neri",
      preparedAt: "26/02/2026 09:05",
      expiresAt: "26/02/2026 21:05",
      lotNumber: "LOT-2026-02-2832",
      notes: "RIFIUTATA: Etichetta errata — paziente non corrispondente.",
    },
  },
  {
    id: "RX-2831",
    status: "validata",
    priority: "alta",
    prepType: "siringa_ricostituita",
    drug: "Insulina Regolare 50UI",
    form: "Soluzione iniettabile",
    container: "Siringa 50ml",
    dispensed: 50.0,
    target: 50.0,
    errorRate: 0.0,
    executor: "M. Verdi",
    executorInitials: "MV",
    station: "Cappa 2",
    date: "2026-02-26",
    requestedAt: "06:45",
    startedAt: "07:00",
    finishedAt: "07:20",
    photos: syringePhotos("Insulina Regolare 50UI", "NaCl 0.9% 50ml", "8097890123456"),
    supplementaryDoses: [],
    labelData: {
      patientName: "Roberto Colombo",
      patientId: "PAZ-20240315-007",
      drug: "Insulina Regolare 50UI in NaCl 0.9%",
      dosage: "50 UI",
      route: "Endovenosa",
      volume: "50 ml",
      preparedBy: "M. Verdi",
      preparedAt: "26/02/2026 07:20",
      expiresAt: "26/02/2026 13:20",
      lotNumber: "LOT-2026-02-2831",
      notes: "Infusione continua. Monitorare glicemia ogni ora.",
    },
  },

  // ── 25 febbraio 2026 ─────────────────────────────────────────────────────
  {
    id: "RX-2830",
    status: "validata",
    priority: "alta",
    prepType: "infusione_iv",
    drug: "Ceftriaxone 2g",
    form: "Polvere per soluzione per infusione",
    container: "Sacca NaCl 0.9% 100ml",
    dispensed: 100.3,
    target: 100.0,
    errorRate: 0.3,
    executor: "S. Ferrari",
    executorInitials: "SF",
    station: "Cappa 1",
    date: "2026-02-25",
    requestedAt: "08:00",
    startedAt: "08:15",
    finishedAt: "08:42",
    photos: ivPhotos("Ceftriaxone 2g", "Soluzione Fisiologica NaCl 0.9% 100ml", "8098901234567"),
    supplementaryDoses: [],
    labelData: {
      patientName: "Elena Ricci",
      patientId: "PAZ-20240315-008",
      drug: "Ceftriaxone 2g in NaCl 0.9%",
      dosage: "2 g",
      route: "Endovenosa",
      volume: "100 ml",
      preparedBy: "S. Ferrari",
      preparedAt: "25/02/2026 08:42",
      expiresAt: "26/02/2026 08:42",
      lotNumber: "LOT-2026-02-2830",
      notes: "Infondere in 30 minuti. Conservare a 2-8°C se non somministrata entro 6h.",
    },
  },
  {
    id: "RX-2829",
    status: "rifiutata",
    priority: "media",
    prepType: "infusione_iv",
    drug: "Metronidazolo 500mg",
    form: "Soluzione per infusione",
    container: "Sacca 100ml",
    dispensed: 107.0,
    target: 100.0,
    errorRate: 7.0,
    executor: "L. Bianchi",
    executorInitials: "LB",
    station: "Cappa 1",
    date: "2026-02-25",
    requestedAt: "09:30",
    startedAt: "09:45",
    finishedAt: "10:05",
    photos: ivPhotos("Metronidazolo 500mg", "Soluzione pronta 100ml", "8099012345678"),
    supplementaryDoses: [
      { time: "09:58", amount: 7.0, unit: "ml", reason: "Errore misura volume — eccesso rilevato" },
    ],
    labelData: {
      patientName: "Marco Fontana",
      patientId: "PAZ-20240315-009",
      drug: "Metronidazolo 500mg",
      dosage: "500 mg",
      route: "Endovenosa",
      volume: "100 ml",
      preparedBy: "L. Bianchi",
      preparedAt: "25/02/2026 10:05",
      expiresAt: "25/02/2026 22:05",
      lotNumber: "LOT-2026-02-2829",
      notes: "RIFIUTATA: Sovradosaggio volume.",
    },
  },
  {
    id: "RX-2828",
    status: "validata",
    priority: "bassa",
    prepType: "siringa_ricostituita",
    drug: "Pantoprazolo 40mg",
    form: "Polvere per soluzione iniettabile",
    container: "Siringa 10ml",
    dispensed: 10.0,
    target: 10.0,
    errorRate: 0.0,
    executor: "M. Verdi",
    executorInitials: "MV",
    station: "Cappa 2",
    date: "2026-02-25",
    requestedAt: "11:00",
    startedAt: "11:05",
    finishedAt: "11:15",
    photos: syringePhotos("Pantoprazolo 40mg", "NaCl 0.9% 10ml", "8090123456789"),
    supplementaryDoses: [],
    labelData: {
      patientName: "Silvia Greco",
      patientId: "PAZ-20240315-010",
      drug: "Pantoprazolo 40mg in NaCl 0.9%",
      dosage: "40 mg",
      route: "Endovenosa",
      volume: "10 ml",
      preparedBy: "M. Verdi",
      preparedAt: "25/02/2026 11:15",
      expiresAt: "25/02/2026 23:15",
      lotNumber: "LOT-2026-02-2828",
      notes: "Somministrare in bolo lento (2-15 min).",
    },
  },
];
